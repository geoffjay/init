# ~/.zshrc - Generated by Ansible init system
# Basic zsh configuration

# History settings
HISTFILE=~/.zsh_history
HISTSIZE={{ shell.history.size | default(50000) }}
SAVEHIST={{ shell.history.save_size | default(50000) }}
{% if shell.history.share_across_sessions | default(true) %}
setopt SHARE_HISTORY
{% endif %}
{% if shell.history.ignore_duplicates | default(true) %}
setopt HIST_IGNORE_DUPS
{% endif %}
{% if shell.history.ignore_space_commands | default(true) %}
setopt HIST_IGNORE_SPACE
{% endif %}
setopt HIST_VERIFY

# Enable completion
autoload -Uz compinit && compinit
{% if shell.completion.case_insensitive | default(true) %}
zstyle ':completion:*' matcher-list 'm:{a-z}={A-Z}'
{% endif %}
zstyle ':completion:*' menu select

# Basic options
setopt AUTO_CD AUTO_PUSHD EXTENDED_GLOB CORRECT

# Key bindings
bindkey -e

# Load configurations
for config in ~/.zsh/{exports,aliases,functions}.zsh; do
  [[ -r "$config" ]] && source "$config"
done

# Basic prompt
PROMPT='%F{green}%n@%m%f:%F{blue}%~%f%# ' 